<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<title>
			The Notify Tab
		</title>
		<meta charset="UTF-8">
		<link rel="stylesheet" href="../default.css" type="text/css">
		<link rel="shortcut icon" href="../images/favicon.ico?v=1" type="image/x-icon">
		<link rel="icon" href="../images/favicon.ico?v=1" type="image/x-icon">
		<script src="../scripts/gcse.js" type="text/javascript">
</script>
	</head>
	<body>
		<script language="JavaScript" type="text/javascript" src="../scripts/hsp.js">
</script>
		<div id="content">
			<h1>
				The Notify Tab
			</h1>
			<p>
				The Notify tab allows you to request notifications when certain types of events occur. For example, if your state of charge (SOC) drops below a certain level or rises above a certain level. Note that in order to receive a notification, VisibleTesla must be running. If the app is sleeping, notifications may be missed or delayed. For more details, consult the <a href="SleepMode.html">Understanding Sleep Mode</a> section. The following screen shot gives an example of what the Notify Tab looks like. Each notification can be enabled or disabled individually using the associated checkbox.
			</p>
			<p>
				<img class="screenshot" src='../images/24_Notify_Tab.png' alt='Notify Tab'>
			</p>
			<p>
				Notifications are sent via email using the address specified in the <a href="PrefsTab.html">Prefs Tab</a>. Many wireless carriers provide an email-to-text gateway. You are provided an email address that corresponds to your cell phone's phone number. This will allow you to receive notifications as text messages. Please note that if you do so, normal text message rates may apply. Consult your carrier.
			</p>
			<p>
				The following types of notifications are supported:
			</p>
			<table class="grid_table">
				<thead>
					<tr>
						<th>
							Notification
						</th>
						<th>
							Target
						</th>
						<th>
							Description
						</th>
					</tr>
				</thead>
				<tbody>
					<tr>
						<td>
							SOC Hits or Exceeds
						</td>
						<td>
							State of Charge percentage (0-100)
						</td>
						<td>
							A notification will be sent if the SOC changes from a value that is below the target value to one that is equal to or greater than the target. You can use this notification if you want to be alerted when your car reaches a certain charge level. Note that the SOC must cross a threshold to get to this value. For example, if you specify 85% as the target, the SOC must go from a value below 85% to 85% or above for a notification to be sent. A notification will not be sent if the SOC is already at or above 85% when the app starts up.
						</td>
					</tr>
					<tr>
						<td>
							SOC Falls Below
						</td>
						<td>
							State of Charge percentage (0-100)
						</td>
						<td>
							A notification will be sent if the SOC changes from a value that is above the target value to one that is less than the target. You can use this notification if you want to be alerted when your car's available charge drops to a certain level.
						</td>
					</tr>
					<tr>
						<td>
							Charge State Becomes
						</td>
						<td>
							<ul style="list-style:none; padding-left:0; margin-top:0;">
								<li>Charging,
								</li>
								<li>Complete,
								</li>
								<li>Disconnected,
								</li>
								<li>Stopped,
								</li>
								<li>Starting,
								</li>
								<li>NoPower,
								</li>
								<li>Unknown,
								</li>
								<li>Anything
								</li>
							</ul>
						</td>
						<td>
							A notification will be sent if the car's charge state changes from some existing value to the specified target value. For example, it might change to <span class="ui">Disconnected</span> when you remove the power cord. If you select <span class="ui">Anything</span> as the target value, then any change in the charge state will cause a notification. <span class="ui">Unknown</span> is a catch-all for any state that is unknown to VisibleTesla. The notification message will contain the current current state of charge (SOC) and estimated remaining range in appropriate units.
						</td>
					</tr>
					<tr>
						<td>
							Speed Hits or Exceeds
						</td>
						<td>
							Speed in mph or km/h
						</td>
						<td>
							A notification will be sent if the speed changes from a value that is below the target value to one that is equal to or greater than the target. This notification will not be sent more frequently than once per 30 minutes. Let's say you set the target to 75 mph and are driving very near that speed. Normal fluctuations in your driving might cause you to drop below then go above 75 mph many times. VisibleTesla will not issue a notification each time that happens. It will issue the first notification and then will not issue another until at least 30 minutes passes.
						</td>
					</tr>
					<tr>
						<td>
							Scheduler Event Triggered
						</td>
						<td>
							N/A
						</td>
						<td>
							A notification will be sent if any scheduled activity occurs.
						</td>
					</tr>
					<tr>
						<td>
							Car entered area
						</td>
						<td>
							An area defined by a center point and a radius in meters
						</td>
						<td>
							A notification will be sent if if your car starts outside of the specified area and later passes into that area. It does not have to stop there. See below for instructions on setting the area.
						</td>
					</tr>
					<tr>
						<td>
							Car left area
						</td>
						<td>
							An area defined by a center point and a radius in meters.
						</td>
						<td>
							A notification will be sent if if your car starts inside of the specified area and later leaves that area. See below for instructions on setting the area.
						</td>
					</tr>
				</tbody>
			</table>
			<h2>
				<a name="locs">Defining Locations</a>
			</h2>
			<p>
				When using the <span class="ui">Car entered area</span> or <span class="ui">Car left area</span> notifications, you must define the area of interest. An area is defined by a location and a radius which are set via an options dialog box. You get to that dialog box by pressing the <span class="ui">Define Area</span> button next to the <span class="ui">Car entered area</span> or <span class="ui">Car left area</span> checkboxes. The dialog you get looks like a normal Google map as shown in the screen shot below.
			</p>
			<p>
				<img class="screenshot" src='../images/24b_Map_Default.png' alt='Notify Tab'>
			</p>
			<p>
				You'll see a red arrow representing the selected location and blue circle around it representing the radius. The first time you bring up this dialog, the arrow will appear at the Tesla factory in Fremont, CA. Use the search box to navigate to a new location. As show in the screen shot below, as you type you will see an auto-complete list of possible locations.
			</p>
			<p>
				<img class="screenshot" src='../images/24c_Map_Auto.png' alt='Notify Tab'>
			</p>
			<p>
				Choose one of those locations or hit <span class="ui">Enter</span>. The map will relocate to show the selected location as shown below. Now you can begin to refine the location and radius. Use the normal map zoom controls as needed. To relocate the arrow, simply click and drag it to a new location. To change the radius, grab the white knob and drag it in or out. The blue circle will grow or shrink to show the new radius. VisibleTesla will not allow you to set a radius below 15 meters.
			</p>
			<p>
				<img class="screenshot" src='../images/24d_Map_Result.png' alt='Notify Tab'>
			</p>
			<p>
				<img class="screenshot" src='../images/24e_Map_Manipulate.png' alt='Notify Tab'>
			</p>
			<p>
				When you've got the location and size the way you want them, enter a nickname for this location such as Home or Work. The nickname will be used as part of notification messages. If you don't enter a nickname you may see a latitude / longitude in notification messages. After setting the nickname, just press <span class="ui">OK</span>. You can cancel at any time by pressing the <span class="ui">Cancel</span> button. In this case your previous values will not be changed.
			</p>
			<p>
				<img class="screenshot" src='../images/24f_Map_Nickname.png' alt='Notify Tab'>
			</p>
			<h2>
				Custom Address and Subject
			</h2>
			<p>
				VisibleTesla allows you to optionally specify the email address and subject to use for each type of notification. This can be useful in a number of circumstances. For example, you may wish to use email notifications for most things, but use text messages for notifications that you feel are more urgent. You could also use this facility if you wish to develop mail rules that kick off some activity based on a recipient email address and/or subject line.
			</p>
			<p>
				To use this feature, press the <span class="ui">+ button</span> at the far right of any notification definition. A dialog will pop up (see below) allowing you to specify an email address and/or a subject. You may also select <span class="ui">Use default values</span>, in which case the default email address and subject will be used. If you leave either field (email address or subject) blank, the default will be used for the blank item.
			</p>
			<p>
				<img class="screenshot" src='../images/24a_Notify_Options.png' alt='Notify Tab'>
			</p>
			<p>
				Notifications are sent via a hosted service (MailGun) and will not require you to enter your email credentials - just an email address. This need not be the same address that you use as your Tesla login. Messages are sent from the address "notifier@visibletesla.com". Do not reply to this address. It is not monitored. Advanced users may use their own MailGun account as described <a href="PrefsTab.html#mailgunkey">here</a>.
			</p>
			<h2>
				Accessing a URL: Advanced Users Only
			</h2>
			<p>
				When a notification occurs, VisibleTesla can perform an HTTP GET on a URL instead of sending an email. This mechanism allows notifications to trigger web services for home automation or other purposes. To use this feature, set the notification email in any custom notification setting to a URL rather than an email address. The URL must begin with <code>http://</code> or <code>https://</code>. It must be a fully formed URL with any special characters URL-encoded. If VisibleTesla sees a URL rather than an email, it will perform an HTTP GET on that URL. It <strong>will not</strong> check error codes returned from the server nor process any returned data. The custom subject field will be ignored.
			</p>
			<p>
				A sample use case might be turning on outside lights at your home when your car is approaching. To do this you would start by setting up the <span class="ui">Car entered area</span> notification. You would then press the  <span class="ui">+ button</span> to bring up the custom address dialog as shown below. Now you can enter the URL corresponding to the "Lights On" command of your home automation controller. Put it in the <span class="ui">EMail</span> field where you would normally put an email address.
			</p>
			<p>
				<img class="screenshot" src='../images/24g_Enter_Custom.png' alt='Notify Tab'>
			</p>
			<p>
				<strong>Security Note: </strong>Any information you enter in this field will be stored unencrypted on your computer's local disk. Be aware of that if you encode sensitive information into a URL.
			</p>
		</div>
		<div id="footer"></div>
	</body>
</html>